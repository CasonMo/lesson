# lesson
使用ssm框架实现简单选课系统的
通过在b站学习黑马程序员的ssm相关课程，自己做的一个项目，不是很完善，继续学习！！
idea写的maven项目

选课系统的设计与实现

一、设计概述
项目内容：当今社会，学生需要全面提高自身，除了专业课与公共课外，还需要选择选修课选课系统主要面向广大师生，着眼于选课的管理，可以方便学生快速了解选课的信息与及选择，同时也将学生的信息反馈给老师，从而达到方便，易管理的效果。
二、系统分析与设计
1、功能分析
项目功能：
学生：查看可选课程、选择课程、查询已选课程、退选课程、修改密码
老师：发布课程、查询已发布课程、查询选课学生信息、修改密码
管理员：管理学生信息、管理教师信息、修改密码，管理班级信息，审核注册的账号
注册账号

 
2、架构设计
18.1.2 系统架构设计
本系统根据功能的不同，项目结构可以划分为以下几个层次。
●持久对象层(也称持久层或持久化层):该层由若干持久化类(实体类)组成。
●数据访问层(DAO层): 该层由若干DAO接口和MyBatis映射文件组成。接口的名称统一以Dao结尾，且MyBatis的映射文件名称要与接口的名称相同。
●业务逻辑层(Service层): 该层由若干Service接口和实现类组成。在本系统中，业务逻辑层的接口统一使用Service结尾，其实现类名称统一在接 口名后加Impl。该层主要用于实现系统的业务逻辑。
●Web表现层:该层主要包括Spring MVC中的Controller类和JSP页面。Controller类主要负责拦截用户请求，并调用业务逻辑层中相应组件的业务逻辑方法来处理用户请求，然后将相应的结果返回给JSP页面。
为了让读者更清晰地了解各个层次之间的关系，下面通过一张图来描述各个层 次的关系和作用，如图18-2所示。
 
三、文件组织结构
（这是maven项目是我在idea做的，为了方便教室电脑运行转移到eclipse，所以目录有所不同）

总目录： 
 
分目录:
 
 
 
四、开发及运行环境
18.1.4 :系统开发及运行环境
选课系统开发环境如下。
●操作系统: Windows
●Web服务器: Tomcat 8.0
●Java开发包: JDK8
●开发工具: Eclipse Java EE IDE for Web Developers 
/ IntelliJ IDEA 2018.1.5 
●数据库: sqlserver2008
●浏览器:火狐或谷歌
五、团队组织及分工
姓名	负责内容
莫钡先	负责系统的实现

六、相关技术介绍
Spring框架技术简介：Spring是一个轻量级控制反转(IoC)和面向切面(AOP)的容器框架。
MyBatis框架技术简介：MyBatis 是一款优秀的持久层框架，它支持定制化 SQL、存储过程以及高级映射。MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。MyBatis 可以使用简单的 XML 或注解来配置和映射原生信息，将接口和 Java 的 POJOs(Plain Ordinary Java Object,普通的 Java对象)映射成数据库中的记录。
Spring MVC框架技术简介：SpringMVC是一种基于Java的实现MVC设计模式的请求驱动类型的轻量级Web框架，使用了MVC架构模式的思想，将web层进行职责解耦，基于请求驱动指的就是使用请求-响应模型，框架的目的就是帮助我们简化开发。

Sqlserver2008数据库技术简介：SQL Server是由Microsoft开发和推广的关系数据库管理系统（DBMS）
过滤器：过滤器放在web资源之前，可以在请求抵达它所应用的web资源(可以是一个Servlet、一个Jsp页面，甚至是一个HTML页面)之前截获进入的请求，并且在它返回到客户之前截获输出请求。Filter：用来拦截请求，处于客户端与被请求资源之间，目的是重用代码。Filter链，在web.xml中哪个先配置，哪个就先调用。在filter中也可以配置一些初始化参数。
Java中的Filter 并不是一个标准的Servlet ，它不能处理用户请求，也不能对客户端生成响应。 主要用于对HttpServletRequest 进行预处理，也可以对HttpServletResponse 进行后处理，是个典型的处理链。

拦截器：Spring MVC中的拦截器（Interceptor）类似于Servlet中的过滤器（Filter），它主要用于拦截用户请求并作相应的处理。例如通过拦截器可以进行权限验证、记录请求信息的日志、判断用户是否登录等。
要使用Spring MVC中的拦截器，就需要对拦截器类进行定义和配置。通常拦截器类可以通过两种方式来定义。
1.通过实现HandlerInterceptor接口，或继承HandlerInterceptor接口的实现类（如HandlerInterceptorAdapter）来定义。
2.通过实现WebRequestInterceptor接口，或继承WebRequestInterceptor接口的实现类来定义。

事务管理器: Spring框架支持事务管理的核心是事务管理器抽象，对于不同的数据访问框架（如Hibernate）通过实现策略接口PlatformTransactionManager，从而能支持各种数据访问框架的事务管





 
 
图3全局ER图

逻辑结构设计
3.1 ER图转换为关系模式

学生（学生编号，姓名，性别，密码，班级编号）
教师（教师编号，姓名，性别，密码）
课程（课程编号，课程名，教室编号，教师编号，上课地点，上课时间，课 
      程人数，已选人数）
管理员（管理员编号，姓名，性别，密码，权限）
班级（班级编号，班级名称，系别）
选课（课程编号，学生编号）
发布（教师编号，课程编号）
管理（管理员编号，教师编号，学生编号）



3.2 关系模式规范化

在关系模式学生（学生编号，姓名，性别，密码，班级编号）中，每一个属性都不能再分，故属于1NF；
在关系模式学生（学生编号，姓名，性别，密码，班级编号）中，主键为学号，所以，姓名，性别，专业，出生日期，班级都是非主属性。根据候选键定义可知，学号完全决定姓名，姓名，性别，专业，出生日期，班级，即每一个非主属性完全依赖于候选键，故该关系模式属于2NF；
在关系模式学生（学生编号，姓名，性别，密码，班级编号）中，姓名、性别、出生日期、班级、专业，都是非主属性，且每一个非主属性不传递函数依赖于候选键学号，即，学号决定姓名，但姓名不决定性别，不决定出生日期、班级、专业。故该关系模式属于3NF。
在关系模式学生（学生编号，姓名，性别，密码，班级编号）中，候选键为学函数依赖为学号→姓名，学号→性别，学号→密码，学号→班级编号，故该关系模式属BCNF；
由于在关系模式学生（学生编号，姓名，性别，密码，班级编号）中不存在多值依赖，故该关系模式不属于4NF。
综上所述，关系模式学生（学生编号，姓名，性别，密码，班级编号）为BCNF。








物理结构设计
4.1 设计表结构


学生表（student）
列名	数据类型	是否为空/主键	说明
stu_id	char(9)	not null/PK	学生的学号
name	varchar(10)	not null	学生的姓名
password	varchar(30)	not null	学生的密码
sex	varchar(10)	not null	学生的性别
class_id	varchar(10)	not null	学生的教室编号



教师表（teacher）
列名	数据类型	是否为空/主键	说明
teach_id	char(9)	not null/PK	教师的编号
name	varchar(10)	not null	教师的姓名
password	varchar(30)	not null	教师的密码
sex	varchar(10)	not null	教师的性别

课程表（lesson）
列名	数据类型	是否为空/主键	说明
lesson_id	char(1)	not null/PK	课程编号
name	varchar(10)	not null	课程名
limit	int	not null	课程人数
selected	int	not null	课程已选人数
teach_id	varchar(10)	not null	教师编号
teach_place	varchar(20)	not null	上课地点
course_class_id	varchar(10)	not null	班级编号
teach_time	varchar(30)	not null	上课时间

班级表（class）
列名	数据类型	是否为空/主键	说明
class_id	char(10)	not null/PK	班级编号
department	varchar(50)	not null	系别
name	Varchar50)	not null	课程名字

管理员表（admit）
列名	数据类型	是否为空/主键	说明
admin_id	char(10)	not null/PK	管理员编号
name	varchar(10)	not null	管理员姓名
password	varchar(30)	not null	管理员密码
sex	varchar(10)	not null	管理员性别
Root	int	not null	管理员权限


八、总结
在这几个星期，我们用数据库做了一个学生选课系统，在这次试验中，我们都很用心的去做这次试验，但是，这次试验也中出现了许多的问题，最大的问题就是对数据库软件的不熟悉，在实现与数据库的连接时，经常会出现一些不同的错误。
回顾实习生活，感触很深，收获颇丰。经过实习我更加认识到实践是检验真理的唯一标准，只学不实践，那么所学的就等于零，理论应当与实践相结合。另一方面，实践可为以后找工作打基础。我感觉实践是大学生活的第二课堂，是知识常新和发展的源泉，是检验真理的试金石，也是大学生锻炼成长的有效途径。一个人的知识和本事仅有在实践中才能发挥作用，才能得到丰富、完善和发展。大学生成长，就要勤于实践，将所学的理论知识与实践相结合一齐，在实践中继续学习，不断总结，逐步完善，有所创新，并在实践中提高自我的各方面知识、本事、技术等因素融合成的综合素质和本事，为自我事业的成功打下良好的基础。
本次项目实践中，不仅是温习了大二下学期学习的java的学习，还学习到了非常多的专业知识，因为在真正的实现某些功能时，必须要做很多检查，必须要给用户舒适的反馈，为了避免错误，必须要在存储过程中设置很多的判断语句，对用户输入的内容进行判断，减少了造成系统错误的隐在祸患，而在这些操作中，也非常的考验javaweb设计人员的思维逻辑，如何创建表，如何使表与表的信息进行交互，如何设计页面，如何设计控制层。我也在实践中发现了自己的很多问题，对ssm框架并不是很熟悉，很多都要通过查询才可以完成操作，不过在这是项目实践中，牢牢的记住了很多关于ssm框架的知识，温故而知新。


